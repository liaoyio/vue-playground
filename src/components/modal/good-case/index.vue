<script setup lang="ts">
import { Button, message } from "ant-design-vue";
import UnityModal from "./unity-modal.vue";
import { useShowModal } from "./use-show-modal";
defineOptions({ name: "HookModals" });

// å‡å¦‚ä½ çš„é¡µé¢ä¸Šæœ‰å‡ åä¸ªå¼¹çª—ï¼Œä½ ä¼šæ€æ ·ä¼˜é›…åœ°å±•ç¤ºå®ƒä»¬ï¼ŸğŸ§
// https://juejin.cn/post/7454394839461249087

const { showModal } = useShowModal();
const buttons = [
  {
    label: "æŒ‰é’® 1",
    content: "å¼¹çª—1å†…å®¹",
    onClick: () => {
      showModal("modal1", {
        content: "å¼¹çª—1å†…å®¹",
        slot: "sd",
        onConfirm: () => message.success("å¼¹çª—1ç‚¹å‡»äº†ç¡®å®š, è¿›è¡Œ1ä¸šåŠ¡ç›¸å…³æ“ä½œ"),
      });
    },
  },
  {
    label: "æŒ‰é’® 2",
    content: "å¼¹çª—2å†…å®¹",
    onClick: () => {
      showModal("modal2", {
        content: "å¼¹çª—2å†…å®¹",
        slot: "sd",
        onConfirm: () => message.success("å¼¹çª—2ç‚¹å‡»äº†ç¡®å®š, è¿›è¡Œ2ä¸šåŠ¡ç›¸å…³æ“ä½œ"),
      });
    },
  },
  {
    label: "æŒ‰é’® 3",
    content: "å¼¹çª—3å†…å®¹",
    onClick: () => {
      showModal("modal3", {
        content: "å¼¹çª—3å†…å®¹",
        slot: "sd",
        onConfirm: () => message.success("å¼¹çª—3ç‚¹å‡»äº†ç¡®å®š, è¿›è¡Œ3ä¸šåŠ¡ç›¸å…³æ“ä½œ"),
      });
    },
  },
];
</script>

<template>
  <div class="flex gap-4">
    <Button v-for="btn in buttons" :key="btn.label" type="primary" @click="btn.onClick">
      ğŸ‘‰ğŸ» {{ btn.label }}
    </Button>
    <UnityModal />
  </div>
</template>
